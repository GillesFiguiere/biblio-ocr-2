<ion-header>
  <ion-navbar>
    <ion-title>Détail du CD</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="dismissModal()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <ion-card>
    <ion-card-header text-center class="gf-card-header">{{ cd.title }}</ion-card-header>
    <ion-card-content>
      <form [formGroup]="borrowerForm">
        <ion-list>
          <ion-item>
            <ion-label>Auteur</ion-label>
            <ion-input type="text" readonly="true" value="{{ cd.author }}"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Publication</ion-label>
            <ion-input type="text" readonly="true" value="{{ cd.publishDate }}"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Emprunteur</ion-label>
            <ion-input type="text" formControlName="borrower"></ion-input>
            <ion-icon *ngIf="borrowerFormInvalid" item-end name="alert" color="danger"></ion-icon>
          </ion-item>
        </ion-list>
        <button ion-button block color="danger" *ngIf="!cd.isBorrowed" (click)="lendCD()">
          <ion-icon margin-right name="log-out"></ion-icon> Marquer comme prêté
        </button>
        <button ion-button block color="secondary" *ngIf="cd.isBorrowed" (click)="getCDBack()">
          <ion-icon margin-right name="log-in"></ion-icon> Marquer comme rendu
        </button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>